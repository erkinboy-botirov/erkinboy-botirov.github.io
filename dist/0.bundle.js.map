{"version":3,"sources":["webpack:///src/components/account/main-menu/main-menu.vue","webpack:///./src/components/account/main-menu/main-menu.vue","webpack:///./src/components/account/main-menu/main-menu.vue?bee0"],"names":["Component","_vm","this","_h","$createElement","_c","_self","ref","staticClass","style","on","dragstart","dragend","dragmove","_v","_s","user","user_display_name","attrs","imageUrl","$event","stopPropagation","goToAccountSettings","handleCameraIconClick","loadingProfile","quizProfile","user_style","_l","item","index","handleItemClick","menuItemComponent","title","closeMenu"],"mappings":"0WAsDA,OACE,KADF,WAEI,MAAJ,CACM,WAAN,EACM,MAAN,EACM,cAAN,GACM,aAAN,EACM,eAAN,KACM,cAAN,CACQ,OAAR,UAIE,OAAF,MACE,WAAF,CACI,YAAJ,WAEE,S,iWAAF,IACA,aACI,UAAJ,iBACI,KAAJ,eACI,YAAJ,kBACI,eAAJ,4BAGE,QAzBF,WA0BI,KAAJ,6CAEE,QAAF,CACI,UADJ,WAEM,KAAN,eACQ,KAAR,mBACQ,UAAR,KAGI,oBAPJ,WAQM,KAAN,iBACQ,YAAR,mBACQ,UAAR,wCACQ,gBAAR,KAGI,kBAdJ,WAeM,KAAN,iBACQ,YAAR,iBACQ,UAAR,oCACQ,gBAAR,KAGI,sBArBJ,WAqBM,IAAN,OAQM,OAAN,yBAPA,CACQ,MAAR,uBACQ,aAAR,qCACQ,yBAAR,SACQ,uBAAR,IAGA,YACQ,IAAR,GACU,gBAAV,gCACU,WAAV,EACU,YAAV,IACU,aAAV,KAEA,KACU,EAAV,iDACA,OACU,EAAV,4CAGQ,UAAR,mBACA,YACU,EAAV,OACA,iCACY,SAAZ,IAEA,sBAJA,OAKA,mBAEA,eACA,OAII,gBAxDJ,SAwDA,GACM,QAAN,mBACQ,KAAR,uCACQ,KAAR,iBACA,yCACQ,KAAR,eACU,KAAV,0BACU,KAAV,SAEA,iCACQ,OAAR,WACU,IAAV,iBACY,OAAZ,kCAII,yBAxEJ,WAwEM,IAAN,OACM,KAAN,gCAAQ,KAAR,4BACQ,EAAR,iCAGI,UA7EJ,SA6EA,GACM,KAAN,8BACM,KAAN,iDAEI,QAjFJ,SAiFA,GACA,6EACQ,KAAR,4BACQ,KAAR,kCACA,gFACQ,KAAR,6BAEM,KAAN,cAEI,SA1FJ,SA0FA,GACM,KAAN,0FACM,KAAN,8CACM,KAAN,mC,OCjKIA,EAAY,YACd,GCfW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,WAAWC,YAAY,wBAAwBC,MAAOR,EAAiB,eAAG,CAACI,EAAG,MAAM,CAACG,YAAY,SAASE,GAAG,CAAC,WAAaT,EAAIU,UAAU,SAAWV,EAAIW,QAAQ,UAAYX,EAAIY,YAAYZ,EAAIa,GAAG,KAAKT,EAAG,MAAM,CAACG,YAAY,gCAAgC,CAACH,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACP,EAAIa,GAAG,yBAAyBb,EAAIc,GAAGd,EAAIe,KAAKC,mBAAmB,0BAA0BZ,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACa,MAAM,CAAC,IAAMjB,EAAIkB,SAAS,aAAaT,GAAG,CAAC,MAAQ,SAASU,GAAiC,OAAzBA,EAAOC,kBAAyBpB,EAAIqB,8BAA8BrB,EAAIa,GAAG,KAAKT,EAAG,OAAO,CAACG,YAAY,gBAAgB,CAACH,EAAG,MAAM,CAACa,MAAM,CAAC,IAAMjB,EAAIkB,SAAS,eAAeT,GAAG,CAAC,MAAQ,SAASU,GAAiC,OAAzBA,EAAOC,kBAAyBpB,EAAIsB,gCAAgCtB,EAAIa,GAAG,KAAKT,EAAG,MAAM,CAACG,YAAY,eAAe,CAACH,EAAG,aAAa,CAACa,MAAM,CAAC,KAAO,SAAS,CAAGjB,EAAIuB,eAA6FnB,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACP,EAAIa,GAAG,oCAApHT,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACP,EAAIa,GAAGb,EAAIc,GAAGd,EAAIwB,YAAYC,kBAA6F,KAAKzB,EAAIa,GAAG,KAAKT,EAAG,KAAKJ,EAAI0B,GAAI1B,EAAa,WAAE,SAAS2B,EAAKC,GAAO,OAAOxB,EAAG,KAAK,CAACK,GAAG,CAAC,MAAQ,SAASU,GAAiC,OAAzBA,EAAOC,kBAAyBpB,EAAI6B,gBAAgBF,MAAS,CAAEA,EAAsB,kBAAEvB,EAAG,eAAe,CAACa,MAAM,CAAC,KAAOU,EAAKG,qBAAqB1B,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACP,EAAIa,GAAG,IAAIb,EAAIc,GAAGa,EAAKI,OAAO,QAAQ,MAAK,KAAK/B,EAAIa,GAAG,KAAKT,EAAG,MAAM,CAACG,YAAY,2CAA2C,CAACH,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,OAAO,CAACK,GAAG,CAAC,MAAQ,SAASU,GAAiC,OAAzBA,EAAOC,kBAAyBpB,EAAIgC,UAAUb,MAAW,CAACf,EAAG,cAAc,CAACG,YAAY,uCAAuCU,MAAM,CAAC,GAAK,gBAAgB,CAACjB,EAAIa,GAAG,uBAAuB,GAAGb,EAAIa,GAAG,KAAKT,EAAG,OAAO,CAACK,GAAG,CAAC,MAAQ,SAASU,GAAiC,OAAzBA,EAAOC,kBAAyBpB,EAAIgC,UAAUb,MAAW,CAACf,EAAG,cAAc,CAACG,YAAY,wCAAwCU,MAAM,CAAC,GAAK,sBAAsB,CAACjB,EAAIa,GAAG,oBAAoB,KAAKb,EAAIa,GAAG,KAAKT,EAAG,cAAc,CAACG,YAAY,yBAAyBU,MAAM,CAAC,GAAK,WAAW,CAACjB,EAAIa,GAAG,uCAAuC,OAC7sE,IDKY,EAEb,KAEC,KAEU,MAYjB,UAAAd,EAAiB","file":"0.bundle.js","sourcesContent":["<template>\n    <div class=\"main-menu full-height\" ref=\"mainMenu\" :style=\"mainMenuStyle\">\n        <div class=\"handle\" @touchstart=\"dragstart\" @touchend=\"dragend\" @touchmove=\"dragmove\"></div>\n        <div class=\"wtw-container step-container\">\n            <div class=\"user-details\">\n                <div class=\"name-photo\">\n                    <span class=\"text\">\n                        {{ user.user_display_name }}\n                        <span class=\"edit\"><img @click.stop=\"goToAccountSettings()\" :src=\"imageUrl('edit.svg')\"/></span>\n                    </span>\n                    <span class=\"change-photo\"\n                        ><img @click.stop=\"handleCameraIconClick()\" :src=\"imageUrl('camera.svg')\"\n                    /></span>\n                </div>\n                <div class=\"personality\">\n                    <transition name=\"fade\">\n                        <span class=\"text\" v-if=\"!loadingProfile\">{{ quizProfile.user_style }}</span>\n                        <span class=\"text\" v-else>Loading your personal style...</span>\n                    </transition>\n                    <!--<span class=\"edit\" @click.stop=\"goToStyleSettings()\">CHANGE YOUR STYLE</span>-->\n                </div>\n            </div>\n            <ul>\n                <li @click.stop=\"handleItemClick(item)\" v-for=\"(item, index) in menuItems\">\n                    <dynamic-link v-if=\"item.menuItemComponent\" :type=\"item.menuItemComponent\" />\n                    <span class=\"text\" v-else> {{ item.title }} </span>\n                </li>\n            </ul>\n        </div>\n        <div class=\"wtw-container shop-actions step-actions\">\n            <div class=\"buttons\">\n                <span @click.stop=\"closeMenu\"\n                    ><router-link class=\"button outline-pink main-menu-button\" to=\"/get-styled\"\n                        >Personal Styling</router-link\n                    ></span\n                >\n                <span @click.stop=\"closeMenu\"\n                    ><router-link class=\"button outline-black main-menu-button\" to=\"/featured-outfits\"\n                        >Shop Featured</router-link\n                    ></span\n                >\n            </div>\n            <router-link to=\"/intro\" class=\"button sign-out-button\">\n                sign out\n            </router-link>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport Mixins from \"../../../mixins/mixins\";\nimport DynamicLink from \"../dynamic-link.vue\";\n\nexport default {\n    data() {\n        return {\n            dragYstart: 0,\n            lastY: 0,\n            dragThreshold: 10,\n            compactMenu: false,\n            mainMenuHeight: null,\n            mainMenuStyle: {\n                height: \"auto\",\n            },\n        };\n    },\n    mixins: [Mixins],\n    components: {\n        DynamicLink,\n    },\n    computed: {\n        ...mapGetters({\n            menuItems: \"menu/menuItems\",\n            user: \"auth/getUser\",\n            quizProfile: \"quizzes/profile\",\n            loadingProfile: \"quizzes/loadingProfile\",\n        }),\n    },\n    created() {\n        this.$store.dispatch(\"quizzes/fetchQuizProfile\");\n    },\n    methods: {\n        closeMenu() {\n            this.$store.commit({\n                type: \"menu/setMenuOpen\",\n                menuOpen: false,\n            });\n        },\n        goToAccountSettings() {\n            this.handleItemClick({\n                menuContent: \"account-settings\",\n                component: \"account-settings/account-settings.vue\",\n                isMenuExpanded: true,\n            });\n        },\n        goToStyleSettings() {\n            this.handleItemClick({\n                menuContent: \"style-settings\",\n                component: \"style-settings/style-settings.vue\",\n                isMenuExpanded: true,\n            });\n        },\n        handleCameraIconClick() {\n            var options = {\n                title: \"Change Profile Photo\",\n                buttonLabels: [\"Choose from Library\", \"Take Photo\"],\n                addCancelButtonWithLabel: \"Cancel\",\n                destructiveButtonLast: false,\n            };\n\n            window.plugins.actionsheet.show(options, (buttonIndex) => {\n                let cameraOptions = {\n                    destinationType: Camera.DestinationType.FILE_URI,\n                    allowEdit: true,\n                    targetWidth: 800,\n                    targetHeight: 1000,\n                };\n                if (buttonIndex == 1) {\n                    cameraOptions.sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n                } else if (buttonIndex == 2) {\n                    cameraOptions.sourceType = Camera.PictureSourceType.CAMERA;\n                }\n\n                navigator.camera.getPicture(\n                    (imageUri) => {\n                        this.$store\n                            .dispatch(\"auth/updateUserPhoto\", {\n                                imageUri,\n                            })\n                            .then((response) => {})\n                            .catch((response) => {});\n                    },\n                    (message) => {},\n                    cameraOptions\n                );\n            });\n        },\n        handleItemClick(item) {\n            if (typeof item.href !== \"undefined\" && item.href) {\n                this.$helpers.visitUrl(this.$router, item.href);\n                this.closeMenu();\n            } else if (typeof item.menuContent !== \"undefined\" && item.menuContent) {\n                this.$store.commit({\n                    type: \"menu/setCurrentMenuItem\",\n                    item: item,\n                });\n            } else if (typeof item.handler !== \"undefined\" && item.handler) {\n                switch (item.handler) {\n                    case \"INVITE_FRIENDS\":\n                        return this.handleInviteFriendsClick();\n                }\n            }\n        },\n        handleInviteFriendsClick() {\n            this.$store.dispatch(\"share/setUrl\", { type: \"invite\" }).then(() => {\n                this.$store.dispatch(\"share/sms\");\n            });\n        },\n        dragstart(ev) {\n            this.dragYstart = ev.touches[0].pageY;\n            this.mainMenuHeight = this.$refs.mainMenu.clientHeight;\n        },\n        dragend(ev) {\n            if (this.dragDown && ev.changedTouches[0].pageY - this.dragYstart > this.dragThreshold) {\n                this.mainMenuStyle.height = \"50vh\";\n                this.mainMenuStyle.minHeight = \"50vh\";\n            } else if (!this.dragDown || ev.changedTouches[0].pageY - this.dragYstart <= this.dragThreshold) {\n                this.mainMenuStyle.height = \"auto\";\n            }\n            this.dragYstart = 0;\n        },\n        dragmove(ev) {\n            this.mainMenuStyle.height = this.mainMenuHeight - (ev.changedTouches[0].pageY - this.dragYstart) + \"px\";\n            this.dragDown = this.lastY < ev.changedTouches[0].pageY;\n            this.lastY = ev.changedTouches[0].pageY;\n        },\n    },\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./main-menu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./main-menu.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22408c8e\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./main-menu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"mainMenu\",staticClass:\"main-menu full-height\",style:(_vm.mainMenuStyle)},[_c('div',{staticClass:\"handle\",on:{\"touchstart\":_vm.dragstart,\"touchend\":_vm.dragend,\"touchmove\":_vm.dragmove}}),_vm._v(\" \"),_c('div',{staticClass:\"wtw-container step-container\"},[_c('div',{staticClass:\"user-details\"},[_c('div',{staticClass:\"name-photo\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.user.user_display_name)+\"\\n                    \"),_c('span',{staticClass:\"edit\"},[_c('img',{attrs:{\"src\":_vm.imageUrl('edit.svg')},on:{\"click\":function($event){$event.stopPropagation();return _vm.goToAccountSettings()}}})])]),_vm._v(\" \"),_c('span',{staticClass:\"change-photo\"},[_c('img',{attrs:{\"src\":_vm.imageUrl('camera.svg')},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleCameraIconClick()}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"personality\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[(!_vm.loadingProfile)?_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.quizProfile.user_style))]):_c('span',{staticClass:\"text\"},[_vm._v(\"Loading your personal style...\")])])],1)]),_vm._v(\" \"),_c('ul',_vm._l((_vm.menuItems),function(item,index){return _c('li',{on:{\"click\":function($event){$event.stopPropagation();return _vm.handleItemClick(item)}}},[(item.menuItemComponent)?_c('dynamic-link',{attrs:{\"type\":item.menuItemComponent}}):_c('span',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(item.title)+\" \")])],1)}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"wtw-container shop-actions step-actions\"},[_c('div',{staticClass:\"buttons\"},[_c('span',{on:{\"click\":function($event){$event.stopPropagation();return _vm.closeMenu($event)}}},[_c('router-link',{staticClass:\"button outline-pink main-menu-button\",attrs:{\"to\":\"/get-styled\"}},[_vm._v(\"Personal Styling\")])],1),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){$event.stopPropagation();return _vm.closeMenu($event)}}},[_c('router-link',{staticClass:\"button outline-black main-menu-button\",attrs:{\"to\":\"/featured-outfits\"}},[_vm._v(\"Shop Featured\")])],1)]),_vm._v(\" \"),_c('router-link',{staticClass:\"button sign-out-button\",attrs:{\"to\":\"/intro\"}},[_vm._v(\"\\n            sign out\\n        \")])],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }"],"sourceRoot":""}