{"version":3,"sources":["webpack:///src/components/account/style-settings/style-setting.vue","webpack:///./src/components/account/style-settings/style-setting.vue","webpack:///./src/components/account/style-settings/style-setting.vue?755a"],"names":["Component","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","directives","name","rawName","value","expression","_v","class","noSkipMessage","on","$event","type","indexOf","_k","keyCode","undefined","key","goToStyleSettings","_s","styleSetting","title","subTitle","_e","dataLoading","token","tag","options","product_option_values","sendOptions","errorMessage","user","profile_risk","optionsSelected","ref","stopPropagation","updateStyleSettings"],"mappings":"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","file":"11.bundle.js","sourcesContent":["<template>\n    <div class=\"settings-container onboarding-container style-setting\">\n        <transition name=\"fade\">\n            <div v-show=\"dataSaving\" class=\"loading-overlay\">\n                <loader></loader>\n            </div>\n        </transition>\n        <div\n            class=\"wtw-container full-height center\"\n            :class=\"{ 'no-skip-message-padding': noSkipMessage }\"\n        >\n            <div class=\"step-container\">\n                <div class=\"back-to-main-menu\" @click.click=\"goToStyleSettings\">\n                    <span class=\"stay-black\">Back</span>\n                </div>\n                <div class=\"step-title-container\">\n                    <div class=\"step-title\">\n                        {{ styleSetting.title }}\n                        <div class=\"step-subtitle\" v-if=\"styleSetting.subTitle\">\n                            {{ styleSetting.subTitle }}\n                        </div>\n                    </div>\n                </div>\n                <transition name=\"fade\">\n                    <component\n                        v-if=\"styleSetting.type && !dataLoading\"\n                        :is=\"'step-' + styleSetting.type\"\n                        :options=\"styleSetting.options.product_option_values\"\n                        :sendOptions=\"sendOptions\"\n                        :key=\"styleSetting.token\"\n                        :optionsAll=\"styleSetting.options\"\n                        :errorMessage=\"errorMessage\"\n                        :riskValueSelected=\"user.profile_risk\"\n                        :optionsSelected=\"styleSetting.optionsSelected\"\n                    ></component>\n                    <div v-else class=\"loading-overlay opaque\">\n                        <loader></loader>\n                    </div>\n                </transition>\n            </div>\n            <div class=\"step-actions\">\n                <div\n                    v-if=\"!dataLoading\"\n                    :class=\"{ 'no-skip-message': noSkipMessage }\"\n                >\n                    <span v-show=\"noSkipMessage\" class=\"error-message\">{{\n                        noSkipMessage\n                    }}</span>\n                    <div\n                        ref=\"updateRef\"\n                        @click.stop=\"updateStyleSettings\"\n                        class=\"button pink full-width small-font\"\n                    >\n                        Update\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport FullList from \"../../onboarding/steps/full-list.vue\";\nimport ColumnList from \"../../onboarding/steps/column-list.vue\";\nimport OutfitType from \"../../onboarding/steps/outfit-type.vue\";\nimport Color from \"../../onboarding/steps/color.vue\";\nimport Size from \"../../onboarding/steps/size.vue\";\nimport Store from \"../../onboarding/steps/store.vue\";\nimport Risk from \"../../onboarding/steps/risk.vue\";\nimport Account from \"../../onboarding/steps/account.vue\";\nimport Billing from \"../../onboarding/steps/billing.vue\";\n\nimport Loader from \"../../common/loader.vue\";\n\nimport $ from \"webpack-zepto\";\n\nexport default {\n    components: {\n        \"step-full-list\": FullList,\n        \"step-column-list\": ColumnList,\n        \"step-outfit-type\": OutfitType,\n        \"step-color\": Color,\n        \"step-size\": Size,\n        \"step-store\": Store,\n        \"step-risk\": Risk,\n        \"step-account\": Account,\n        \"step-billing\": Billing,\n        Loader,\n    },\n    data() {\n        return {\n            sendOptions: false,\n            errorMessage: null,\n            dataSaving: false,\n            dataLoading: false,\n            noSkipMessage: null,\n        };\n    },\n    computed: {\n        ...mapGetters({\n            token: \"menu/currentMenuToken\",\n            styleSettingObject: \"account/styleSetting\",\n            user: \"auth/getUser\",\n        }),\n        styleSetting() {\n            return this.styleSettingObject(this.token);\n        },\n        getNoSkip() {\n            return this.styleSetting.noSkip;\n        },\n    },\n    created() {\n        $(window).scrollTop(0);\n        this.dataLoading = true;\n        if (this.styleSetting.loadOptions) {\n            if (this.token == \"size\") {\n                this.$store\n                    .dispatch(\"account/loadSizeSettings\", this.token)\n                    .then(() => {\n                        this.dataLoading = false;\n                    });\n            } else {\n                this.$store\n                    .dispatch(\"account/loadSetting\", this.token)\n                    .then(() => {\n                        this.dataLoading = false;\n                    });\n            }\n        }\n\n        if (this.token == \"risk\") {\n            this.$store.commit(\n                \"account/setUserRiskPreference\",\n                this.user.profile_risk\n            );\n            this.dataLoading = false;\n        }\n\n        this.$on(\"optionsSending\", function(optionValues, canGoToNextStep) {\n            this.sendOptions = false;\n            if (this.token == \"size\") {\n                this.dataSaving = true;\n                this.$store\n                    .dispatch(\"account/saveUserSettingSize\", optionValues)\n                    .then(() => {\n                        this.dataSaving = false;\n                    });\n            } else {\n                if (canGoToNextStep) {\n                    this.noSkipMessage = null;\n                    this.dataSaving = true;\n                    this.$store\n                        .dispatch(\"account/saveUserSetting\", {\n                            token: this.token,\n                            optionValues,\n                        })\n                        .then(() => {\n                            this.dataSaving = false;\n                        });\n                } else {\n                    this.noSkipMessage = \"Please select on option to continue.\";\n                }\n            }\n        });\n\n        this.$on(\"riskValueSending\", (value) => {\n            this.sendOptions = false;\n            this.dataSaving = true;\n            this.$store.dispatch(\"auth/updateUserRiskValue\", value).then(() => {\n                this.dataSaving = false;\n            });\n        });\n    },\n    methods: {\n        goToStyleSettings() {\n            this.$store.commit({\n                type: \"menu/setCurrentMenuItem\",\n                item: {\n                    menuContent: \"style-settings\",\n                    component: \"style-settings/style-settings.vue\",\n                    isMenuExpanded: true,\n                },\n            });\n        },\n        updateStyleSettings() {\n            this.sendOptions = true;\n        },\n    },\n    mounted() {\n        console.log(\"style settings:\", this.styleSetting);\n    },\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./style-setting.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./style-setting.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-744cdcc7\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./style-setting.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings-container onboarding-container style-setting\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dataSaving),expression:\"dataSaving\"}],staticClass:\"loading-overlay\"},[_c('loader')],1)]),_vm._v(\" \"),_c('div',{staticClass:\"wtw-container full-height center\",class:{ 'no-skip-message-padding': _vm.noSkipMessage }},[_c('div',{staticClass:\"step-container\"},[_c('div',{staticClass:\"back-to-main-menu\",on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"click\",undefined,$event.key,undefined)){ return null; }return _vm.goToStyleSettings($event)}}},[_c('span',{staticClass:\"stay-black\"},[_vm._v(\"Back\")])]),_vm._v(\" \"),_c('div',{staticClass:\"step-title-container\"},[_c('div',{staticClass:\"step-title\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.styleSetting.title)+\"\\n                    \"),(_vm.styleSetting.subTitle)?_c('div',{staticClass:\"step-subtitle\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.styleSetting.subTitle)+\"\\n                    \")]):_vm._e()])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.styleSetting.type && !_vm.dataLoading)?_c('step-' + _vm.styleSetting.type,{key:_vm.styleSetting.token,tag:\"component\",attrs:{\"options\":_vm.styleSetting.options.product_option_values,\"sendOptions\":_vm.sendOptions,\"optionsAll\":_vm.styleSetting.options,\"errorMessage\":_vm.errorMessage,\"riskValueSelected\":_vm.user.profile_risk,\"optionsSelected\":_vm.styleSetting.optionsSelected}}):_c('div',{staticClass:\"loading-overlay opaque\"},[_c('loader')],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"step-actions\"},[(!_vm.dataLoading)?_c('div',{class:{ 'no-skip-message': _vm.noSkipMessage }},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noSkipMessage),expression:\"noSkipMessage\"}],staticClass:\"error-message\"},[_vm._v(_vm._s(_vm.noSkipMessage))]),_vm._v(\" \"),_c('div',{ref:\"updateRef\",staticClass:\"button pink full-width small-font\",on:{\"click\":function($event){$event.stopPropagation();return _vm.updateStyleSettings($event)}}},[_vm._v(\"\\n                    Update\\n                \")])]):_vm._e()])])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }"],"sourceRoot":""}