(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{592:function(t,e,s){"use strict";s.r(e);var n=s(1),i=s.n(n),a=s(5),o=s(77),r=s(313),c=s(314),l=s(315),p=s(316),u=s(317),d=s(312),g=s(311),h=s(310),S=s(12),v=s(21),y=s.n(v);function k(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function f(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?k(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var m={components:{"step-full-list":o.a,"step-column-list":r.a,"step-outfit-type":c.a,"step-color":l.a,"step-size":p.a,"step-store":u.a,"step-risk":d.a,"step-account":g.a,"step-billing":h.a,Loader:S.a},data:function(){return{sendOptions:!1,errorMessage:null,dataSaving:!1,dataLoading:!1,noSkipMessage:null}},computed:f(f({},Object(a.b)({token:"menu/currentMenuToken",styleSettingObject:"account/styleSetting",user:"auth/getUser"})),{},{styleSetting:function(){return this.styleSettingObject(this.token)},getNoSkip:function(){return this.styleSetting.noSkip}}),created:function(){var t=this;y()(window).scrollTop(0),this.dataLoading=!0,this.styleSetting.loadOptions&&("size"==this.token?this.$store.dispatch("account/loadSizeSettings",this.token).then((function(){t.dataLoading=!1})):this.$store.dispatch("account/loadSetting",this.token).then((function(){t.dataLoading=!1}))),"risk"==this.token&&(this.$store.commit("account/setUserRiskPreference",this.user.profile_risk),this.dataLoading=!1),this.$on("optionsSending",(function(t,e){var s=this;this.sendOptions=!1,"size"==this.token?(this.dataSaving=!0,this.$store.dispatch("account/saveUserSettingSize",t).then((function(){s.dataSaving=!1}))):e?(this.noSkipMessage=null,this.dataSaving=!0,this.$store.dispatch("account/saveUserSetting",{token:this.token,optionValues:t}).then((function(){s.dataSaving=!1}))):this.noSkipMessage="Please select on option to continue."})),this.$on("riskValueSending",(function(e){t.sendOptions=!1,t.dataSaving=!0,t.$store.dispatch("auth/updateUserRiskValue",e).then((function(){t.dataSaving=!1}))}))},methods:{goToStyleSettings:function(){this.$store.commit({type:"menu/setCurrentMenuItem",item:{menuContent:"style-settings",component:"style-settings/style-settings.vue",isMenuExpanded:!0}})},updateStyleSettings:function(){this.sendOptions=!0}},mounted:function(){console.log("style settings:",this.styleSetting)}},b=s(0),O=Object(b.a)(m,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-container onboarding-container style-setting"},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.dataSaving,expression:"dataSaving"}],staticClass:"loading-overlay"},[s("loader")],1)]),t._v(" "),s("div",{staticClass:"wtw-container full-height center",class:{"no-skip-message-padding":t.noSkipMessage}},[s("div",{staticClass:"step-container"},[s("div",{staticClass:"back-to-main-menu",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"click",void 0,e.key,void 0)?null:t.goToStyleSettings(e)}}},[s("span",{staticClass:"stay-black"},[t._v("Back")])]),t._v(" "),s("div",{staticClass:"step-title-container"},[s("div",{staticClass:"step-title"},[t._v("\n                    "+t._s(t.styleSetting.title)+"\n                    "),t.styleSetting.subTitle?s("div",{staticClass:"step-subtitle"},[t._v("\n                        "+t._s(t.styleSetting.subTitle)+"\n                    ")]):t._e()])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.styleSetting.type&&!t.dataLoading?s("step-"+t.styleSetting.type,{key:t.styleSetting.token,tag:"component",attrs:{options:t.styleSetting.options.product_option_values,sendOptions:t.sendOptions,optionsAll:t.styleSetting.options,errorMessage:t.errorMessage,riskValueSelected:t.user.profile_risk,optionsSelected:t.styleSetting.optionsSelected}}):s("div",{staticClass:"loading-overlay opaque"},[s("loader")],1)],1)],1),t._v(" "),s("div",{staticClass:"step-actions"},[t.dataLoading?t._e():s("div",{class:{"no-skip-message":t.noSkipMessage}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.noSkipMessage,expression:"noSkipMessage"}],staticClass:"error-message"},[t._v(t._s(t.noSkipMessage))]),t._v(" "),s("div",{ref:"updateRef",staticClass:"button pink full-width small-font",on:{click:function(e){return e.stopPropagation(),t.updateStyleSettings(e)}}},[t._v("\n                    Update\n                ")])])])])],1)}),[],!1,null,null,null);e.default=O.exports}}]);
//# sourceMappingURL=11.bundle.js.map